<!DOCTYPE html>
<html lang="en">
<head></head>
<body>

<pre>
    combineAll
</pre>

<script src="/lib/Rx5.umd.js"></script>
<script>

    //emit every 1s, take 2
    var source = Rx.Observable.interval(1000).take(2);
    //map each emitted value from source to interval observable that takes 5 values

    var example = source.map(function (val) {
        Rx.Observable
            .interval(1000)
            .map(function (i) {
                return 'Result ('+val+'): '+i
            })
            .take(5)
    });
    /*
     2 values from source will map to 2 (inner) interval observables that emit every 1s
     combineAll uses combineLatest strategy, emitting the last value from each
     whenever either observable emits a value
     */
    var combined = example.combineAll();
    /*
     output:
     ["Result (0): 0", "Result (1): 0"]
     ["Result (0): 1", "Result (1): 0"]
     ["Result (0): 1", "Result (1): 1"]
     ["Result (0): 2", "Result (1): 1"]
     ["Result (0): 2", "Result (1): 2"]
     ["Result (0): 3", "Result (1): 2"]
     ["Result (0): 3", "Result (1): 3"]
     ["Result (0): 4", "Result (1): 3"]
     ["Result (0): 4", "Result (1): 4"]
     */
    var subscribe = combined.subscribe(function (val) {
        console.log(val)
    });
</script>

</body>
</html>


