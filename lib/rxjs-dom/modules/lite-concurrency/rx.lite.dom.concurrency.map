{"version":3,"file":"rx.lite.dom.concurrency.min.js","sources":["rx.lite.dom.concurrency.js"],"names":["factory","checkGlobal","value","Object","objectTypes","function","object","freeExports","exports","nodeType","freeModule","module","freeGlobal","global","freeSelf","self","freeWindow","window","thisGlobal","this","root","Function","define","amd","Rx","require","call","exp","undefined","requestAnimFrame","cancelAnimFrame","Disposable","BinaryDisposable","SingleAssignmentDisposable","Scheduler","inherits","internals","requestAnimationFrame","cancelAnimationFrame","mozRequestAnimationFrame","mozCancelAnimationFrame","webkitRequestAnimationFrame","webkitCancelAnimationFrame","msRequestAnimationFrame","msCancelAnimationFrame","oRequestAnimationFrame","oCancelAnimationFrame","cb","setTimeout","clearTimeout","RequestAnimationFrameScheduler","__super__","scheduleAction","disposable","action","scheduler","state","isDisposed","setDisposable","_fixup","ClearDisposable","method","id","_id","_method","prototype","dispose","schedule","_scheduleFuture","dueTime","microtask","clearMethod","handle","tasksByHandle","runTask","currentlyRunning","task","e","postMessageSupported","postMessage","importScripts","isAsync","oldHandler","onmessage","onGlobalPostMessage","event","data","substring","MSG_PREFIX","length","scheduleMethod","nextHandle","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","PREFIX","observer","mutations","forEach","mutation","attributeName","element","document","createElement","observe","attributes","addEventListener","disconnect","setAttribute","setImmediate","Math","random","attachEvent","MessageChannel","channel","port1","port2","scriptElement","onreadystatechange","parentNode","removeChild","documentElement","appendChild","MicroTaskScheduler"],"mappings":"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"}